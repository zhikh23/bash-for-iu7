<!DOCTYPE html>
<html>
<head>
<title>bash-for-iu7.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/*

Atom One Dark by Daniel Gamage
Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

base:    #282c34
mono-1:  #abb2bf
mono-2:  #818896
mono-3:  #5c6370
hue-1:   #56b6c2
hue-2:   #61aeee
hue-3:   #c678dd
hue-4:   #98c379
hue-5:   #e06c75
hue-5-2: #be5046
hue-6:   #d19a66
hue-6-2: #e6c07b

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #abb2bf;
  background: #282c34;
}

.hljs-comment,
.hljs-quote {
  color: #5c6370;
  font-style: italic;
}

.hljs-doctag,
.hljs-keyword,
.hljs-formula {
  color: #c678dd;
}

.hljs-section,
.hljs-name,
.hljs-selector-tag,
.hljs-deletion,
.hljs-subst {
  color: #e06c75;
}

.hljs-literal {
  color: #56b6c2;
}

.hljs-string,
.hljs-regexp,
.hljs-addition,
.hljs-attribute,
.hljs-meta-string {
  color: #98c379;
}

.hljs-built_in,
.hljs-class .hljs-title {
  color: #e6c07b;
}

.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-type,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-number {
  color: #d19a66;
}

.hljs-symbol,
.hljs-bullet,
.hljs-link,
.hljs-meta,
.hljs-selector-id,
.hljs-title {
  color: #61aeee;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}

.hljs-link {
  text-decoration: underline;
}

</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///home/zhikh/repos/my/bash-for-iu7/styles/fix-fonts-size.css" type="text/css">
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F-%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B0-bash-%D0%B4%D0%BB%D1%8F-%D1%87%D0%B0%D0%B9%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2">Учебная практика BASH для чайников</h1>
<p>Методическое пособие создано для потока 1-го курса ИУ7 2023 года для помощи в освоении предмета ПТП.</p>
<h2 id="%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">Оглавление</h2>
<ul>
<li><a href="#%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F-%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B0-bash-%D0%B4%D0%BB%D1%8F-%D1%87%D0%B0%D0%B9%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2">Учебная практика BASH для чайников</a>
<ul>
<li><a href="#%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5">Оглавление</a></li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-i-%D0%B4%D0%B0-%D0%BA%D1%82%D0%BE-%D1%8D%D1%82%D0%BE%D1%82-%D0%B2%D0%B0%D1%88-bash">Глава I. Да кто этот ваш <code>.bash</code>?</a>
<ul>
<li><a href="#11-%D0%B4%D0%BB%D1%8F-%D1%87%D0%B5%D0%B3%D0%BE-%D0%BD%D1%83%D0%B6%D0%B5%D0%BD-bash">1.1. Для чего нужен bash?</a></li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-ii-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%B0%D0%BA-%D1%81%D0%BC%D1%8B%D1%81%D0%BB-%D0%B6%D0%B8%D0%B7%D0%BD%D0%B8">Глава II. Переменные как смысл жизни</a>
<ul>
<li><a href="#21-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85">2.1. Создание переменных</a>
<ul>
<li><a href="#211-%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D0%BE%D0%B5-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9">2.1.1. Обычное создание переменной</a></li>
</ul>
</li>
<li><a href="#22-%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%B8%D0%BB%D0%B8-%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0%D0%BC-%D1%82%D0%B0%D0%BA-%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BF%D0%BB%D0%B0%D1%82%D1%8F%D1%82">2.2. Чтение переменных или почему программистам так много платят</a></li>
<li><a href="#23-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81-%D1%82%D0%BE%D1%87%D0%BA%D0%B8-%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D1%8F-bash">2.3. Вопросы существования с точки зрения <code>bash</code></a>
<ul>
<li><a href="#231-%D0%BD%D0%B5%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5">2.3.1. Несуществующие переменные</a></li>
<li><a href="#232-%D1%84%D0%BE%D0%BA%D1%83%D1%81%D1%8B-%D1%81-%D0%B8%D1%81%D1%87%D0%B5%D0%B7%D0%BD%D0%BE%D0%B2%D0%B0%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">2.3.2. Фокусы с исчезноваением</a></li>
</ul>
</li>
<li><a href="#24-%D0%BE%D1%81%D0%BE%D0%B1%D1%8B%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5">2.4. Особые переменные</a>
<ul>
<li><a href="#241-%D0%BF%D0%BE-%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BA%D1%83-%D1%80%D0%B0-%D0%B0-%D0%B0-%D1%81-c-%D1%87%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D1%8C">2.4.1. По порядку ра-а-а-с-c-читайсь!</a></li>
<li><a href="#242-%D0%BA%D0%BE%D0%B4-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B0">2.4.2. Код возврата</a></li>
</ul>
</li>
<li><a href="#25-%D0%BC%D0%B0%D0%BD%D0%B8%D0%BF%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D0%B8-%D1%81%D0%BE-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0%D0%BC%D0%B8">2.5. Манипуляции со строками</a>
<ul>
<li><a href="#251-%D0%B4%D0%BB%D0%B8%D0%BD%D1%8B-%D1%81%D1%82%D1%80%D0%BE%D0%BA">2.5.1. Длины строк</a></li>
<li><a href="#252-%D0%B6%D0%BE%D0%BD%D0%B3%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D0%BC-%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D0%BC%D0%B8">2.5.2. Жонглируем регистрами</a></li>
</ul>
</li>
<li><a href="#253-%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0%D1%82%D0%B5%D0%BD%D0%B0%D1%86%D0%B8%D1%8F--%D0%BD%D0%B5-%D1%81%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5">2.5.3. Конкатенация — не сложение!</a></li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-iii-%D0%B2%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5-%D1%81-%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%BC-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">Глава III. Взаимодействие с внешним окружением</a>
<ul>
<li><a href="#31-%D0%B2%D0%B2%D0%BE%D0%B4-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85">3.1. Ввод переменных</a></li>
<li><a href="#32-%D0%BA%D0%BE%D0%B4%D1%8B-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B0">3.2. Коды выхода</a></li>
<li><a href="#33-%D1%82%D1%80%D0%BE%D0%B5-%D0%B8%D0%B7-%D0%BB%D0%B0%D1%80%D1%86%D0%B0-%D0%B8%D0%BB%D0%B8-std-%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B8">3.3. «Трое из ларца» или std-потоки</a></li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-iv-%D0%B2%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B2-bash-%D0%B5-%D0%B8%D0%BB%D0%B8-%D0%B0-%D1%87%D1%82%D0%BE-%D0%B5%D1%81%D0%BB%D0%B8">Глава IV. Ветвления в <code>bash</code>-е или «А что если...»</a>
<ul>
<li><a href="#41-%D1%8D%D1%82%D0%BE-%D0%B1%D0%B0%D0%B7%D0%B0">4.1. Это база!</a></li>
<li><a href="#42--%D0%B8-%D0%B5%D0%B3%D0%BE-%D0%B4%D1%80%D1%83%D0%B7%D1%8C%D1%8F">4.2. &quot;[&quot; и его друзья</a>
<ul>
<li><a href="#421-%D0%BD%D0%B5%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%B4%D1%83%D1%88%D0%BD%D0%BE%D0%B9-%D1%82%D0%B5%D0%BE%D1%80%D0%B8%D0%B8">4.2.1. Немного душной теории</a></li>
<li><a href="#422-%D1%81%D0%BE%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5-%D0%B4%D0%B8%D1%81%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">4.2.2. Социальное дистанционирование</a></li>
</ul>
</li>
<li><a href="#43-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8-">4.3. Возможности &quot;[&quot;</a>
<ul>
<li><a href="#431-%D1%8D%D0%BA%D0%B7%D0%B8%D1%81%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B">4.3.1. Экзистенциальные вопросы</a></li>
<li><a href="#432-%D1%8D%D0%BA%D0%B2%D0%B8%D0%B2%D0%B0%D0%BB%D0%B5%D0%BD%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C">4.3.2. Эквивалентность</a></li>
<li><a href="#433-%D0%BB-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BA%D0%B0">4.3.3. Л-Логика</a></li>
<li><a href="#434-%D0%B0%D0%BB%D0%B3%D0%B5%D0%B1%D1%80%D0%B0%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F">4.3.4. Алгебраические сравнения</a></li>
</ul>
</li>
<li><a href="#44-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8-">4.4. Возможности &quot;[[&quot;</a>
<ul>
<li><a href="#441-%D0%BB-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BA%D0%B0-%D1%872">4.4.1. Л-Логика ч.2</a></li>
<li><a href="#442-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">4.4.2. Используем регулярные выражения</a></li>
</ul>
</li>
<li><a href="#45-%D1%84%D0%BE%D0%BA%D1%83%D1%81%D1%8B">4.5. Фокусы!</a>
<ul>
<li><a href="#451-%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D0%BE-%D0%BD%D0%BE">4.5.1. Красиво, но...</a></li>
<li><a href="#452--%D0%BB%D1%83%D1%87%D1%88%D0%B5-%D0%BD%D0%B5-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C">4.5.2. ... лучше не использовать</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-v-%D0%BC%D0%B0%D1%81%D0%BA%D0%B8-%D0%B8-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F--%D1%81-%D1%87%D0%B5%D0%BC-%D0%B8%D1%85-%D0%B5%D1%81%D1%82%D1%8C-%D0%B8-%D0%B7%D0%B0%D1%87%D0%B5%D0%BC">Глава V. Маски и регулярные выражения — с чем их есть и зачем?</a>
<ul>
<li><a href="#51-%D0%BC%D0%B0%D1%81%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0">5.1. Маски(ровка)</a></li>
<li><a href="#52-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">5.2. Регулярные выражения</a>
<ul>
<li><a href="#521-%D1%8D%D1%82%D0%BE-%D0%B1%D0%B0%D0%B7%D0%B0">5.2.1. Это база!</a></li>
<li><a href="#522-%D1%81%D0%BD%D0%BE%D0%B2%D0%B0--">5.2.2. Снова <code>[ ]</code></a></li>
<li><a href="#523-%D0%BA%D0%B2%D0%B0%D0%BD%D1%82%D0%BE%D1%80%D1%8B">5.2.3. Кванторы</a></li>
<li><a href="#524-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">5.2.4. Экранирование</a></li>
<li><a href="#525-%D0%BF%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D1%8F">5.2.5. Повторения</a></li>
<li><a href="#526-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B">5.2.6. Группы</a></li>
<li><a href="#527-%D1%8F%D0%BA%D0%BE%D1%80%D1%8F">5.2.7. Якоря</a></li>
<li><a href="#528-%D1%87%D0%B8%D1%81%D0%BB%D0%B0">5.2.8. Числа!</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-vi-%D0%BC%D0%B0%D0%B3%D0%B8%D1%8F-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B8">Глава VI. Магия математики</a>
<ul>
<li><a href="#61-%D1%88%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D0%B0%D1%80%D0%B8%D1%84%D0%BC%D0%B5%D1%82%D0%B8%D0%BA%D0%B0">6.1. Школьная арифметика</a></li>
<li><a href="#62-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0-%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">6.2. Возврат результата вычисления</a></li>
<li><a href="#64-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F">6.4. Математические условия</a></li>
</ul>
</li>
<li><a href="#%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-vii-%D0%B2%D0%BE%D1%82-%D0%BE%D0%BD%D0%B8-%D1%81%D0%BB%D0%B5%D0%B2%D0%B0-%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BE-while-until-for">Глава VII. Вот они, слева направо: <code>while</code>, <code>until</code>, <code>for</code></a>
<ul>
<li><a href="#71-while-%D0%B8-until">7.1. <code>while</code> и <code>until</code></a></li>
<li><a href="#72-%D0%B2%D1%81%D0%B5%D0%BC%D0%BE%D0%B3%D1%83%D1%89%D0%B8%D0%B9-for">7.2. Всемогущий <code>for</code></a>
<ul>
<li><a href="#721-%D0%B4%D0%BB%D1%8F-%D0%BC%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D0%BE%D0%B2">7.2.1. Для массивов</a></li>
<li><a href="#722-%D0%B4%D0%BB%D1%8F-%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%8B%D1%85-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B5%D0%B9">7.2.2. Для простых последовательностей</a></li>
<li><a href="#723-c%D0%B8-%D1%81%D1%82%D0%B0%D0%B9%D0%BB">7.2.3. Cи-стайл</a></li>
</ul>
</li>
<li><a href="#73-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2">7.3. Обработка позиционных параметров</a></li>
</ul>
</li>
<li><a href="#%D1%82%D0%B0-%D1%81%D0%B0%D0%BC%D0%B0%D1%8F-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D1%8F%D1%8F-%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0">Та самая последняя страница</a></li>
</ul>
</li>
</ul>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-i-%D0%B4%D0%B0-%D0%BA%D1%82%D0%BE-%D1%8D%D1%82%D0%BE%D1%82-%D0%B2%D0%B0%D1%88-bash">Глава I. Да кто этот ваш <code>.bash</code>?</h2>
<h3 id="11-%D0%B4%D0%BB%D1%8F-%D1%87%D0%B5%D0%B3%D0%BE-%D0%BD%D1%83%D0%B6%D0%B5%D0%BD-bash">1.1. Для чего нужен bash?</h3>
<p>Программисты — люди ленивые, привыкшие все автоматизировать.
Поэтому неудивительно, что появилась такая вещь, как bash-скрипты (далее автор будет называть bash-скрипты просто <strong>bash</strong>).
В bash можно записывать целые сценарии для выполнения рутинной работы. Приведу пример:</p>
<pre class="hljs"><code><div><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># test.sh</span>

<span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> <span class="hljs-string">"./tests/in/*"</span>; <span class="hljs-keyword">do</span>
    cat <span class="hljs-variable">$file</span> | python3 my_lab.py &gt; <span class="hljs-variable">${file/in/out}</span>
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>Скрипт автоматически вводит данные в Вашу программу (например, лабораторную по программированию) и записывает результаты в файл.
Таким образом Вы можете протестировать свою программу сразу на нескольких массивах входных данных <em>одной командой!</em></p>
<pre class="hljs"><code><div>bash test.sh
</div></code></pre>
<p>Неплохо, не правда ли? А ведь это только начало! Возможности BASH-скриптов ограничены лишь Вашим воображением.</p>
<p>И да, <code>bash</code> есть на <code>Linux</code>-системах. Предмет ПТП подразумевает, что у Вас уже есть данная ОС в любом виде.</p>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-ii-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%B0%D0%BA-%D1%81%D0%BC%D1%8B%D1%81%D0%BB-%D0%B6%D0%B8%D0%B7%D0%BD%D0%B8">Глава II. Переменные как смысл жизни</h2>
<blockquote>
<p>В bash-e нет типов переменных!</p>
</blockquote>
<p>Просто запомните это. Каждый раз, когда Вы используете переменную, помните эти слова.</p>
<p>Рассмотрим на примере:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Python3</span>
a = <span class="hljs-number">5</span>
b = <span class="hljs-string">"abc"</span>
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment"># Bash</span>
a=5
b=abc
</div></code></pre>
<p>Может показаться, что никакой разницы нет. Однако, в случае с <code>Python3</code> переменные имеют свой тип:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&gt;&gt;&gt; </span>type(a)
&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> '<span class="hljs-title">int</span>'&gt;
&gt;&gt;&gt; <span class="hljs-title">type</span><span class="hljs-params">(b)</span>
&lt;<span class="hljs-title">class</span> '<span class="hljs-title">str</span>'&gt;
</span></div></code></pre>
<p>В то время как в <code>bash</code> в обоихз случаях мы задаём <strong>строку</strong>. Т.е. это эквивалетно скрипту на языке <code>Python3</code>:</p>
<pre class="hljs"><code><div>a = <span class="hljs-string">"5"</span>
b = <span class="hljs-string">"abc"</span>
</div></code></pre>
<p>И как с этим жить? Об это и пойдёт речь.</p>
<h3 id="21-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85">2.1. Создание переменных</h3>
<h4 id="211-%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D0%BE%D0%B5-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9">2.1.1. Обычное создание переменной</h4>
<p>Объявить переменную несложно:</p>
<pre class="hljs"><code><div>var=value
</div></code></pre>
<blockquote>
<p>Рядом со знаком <code>=</code> не должно быть пробелов!</p>
</blockquote>
<pre class="hljs"><code><div>var=42     <span class="hljs-comment"># CORRECT</span>
var = 42   <span class="hljs-comment"># WRONG</span>
var= foo   <span class="hljs-comment"># WRONG</span>
</div></code></pre>
<p>Если же по каким-то причинам пробел всё-таки нужен, используйте кавычки:</p>
<pre class="hljs"><code><div>greet=<span class="hljs-string">"Hello world!"</span>
</div></code></pre>
<blockquote>
<p>Кавычки при объявлении переменных необязательны: они требуются только для тех случаев, когда нужно явно задать границы значения, например, когда есть пробелы.</p>
</blockquote>
<h3 id="22-%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%B8%D0%BB%D0%B8-%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0%D0%BC-%D1%82%D0%B0%D0%BA-%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BF%D0%BB%D0%B0%D1%82%D1%8F%D1%82">2.2. Чтение переменных или почему программистам так много платят</h3>
<p>Просто потому, что онииспользуют символ <code>$</code> каждый раз, когда читают переменную! <img class="emoji" alt="smiley" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAWaUlEQVR4Xu2bebAlV33fP79zum/fe9+99+3z3qyaGc0iCQ3LzEhIMpalICQKx0JYyEAkgTEJlAtX4qLKdhHsgBIndoWYONj8gR0gWAI5BoPAC7KQUyJG20gapAgxZvbhzfZm3r7crfuck+5TXdXFvEUjBymqsk/Vd86dmdPn/j7f/p2tXz9xzvGPuSj+UZd/MuCfDAh4mcs9Iuquu9gaOHaheI0I2wRGlZY+HFUAhKY1bsbBWec4jOWFRHj+vvs4+nHnLC9jeVkmQUnLsbu52gm3hpqbVShX6FBVVUmhSoIoAS0AhYzDWYftZrKY2DZt7H4QGx4Sxze33Ms+l5ZXtQHP3CrVwT5+QWl+qVRWP6UrSqmqRkUZuEOURbRLJSAXGOAczmQSnFXYrmA7Fts0mJa13bZ91Bo+PznDn+35pmu+quaAR26U4Ph75RdHhuXJakN/oWc0+ulofaSidQHRsKM0rCmNDlHe9nqiK28h2vNeytf8MpXr/o1X+tn/W/p/vk3aNrvGX+v7SPvK+sz6zr4j+67sO18VGXDwTrm6HPKfyjX95qA3IGhoJDKockDQtxE1+gbUyB6ktg0pD0BQBdEgAA4AEHCAM5A0ce0p3MJh7Pgz2LPfI5kZw7YTXEeTzBmS2YT2gvnbdsy/3fElt+//iwGSlqN38pFyVe4p9Yc9ui9M2SyqGhCM7EJfcjNq+GqoDORwCWAhNxwBHMt8FkCBBCBAawp7fh/mxEMk489jmwlJU2FmYrrT8WK76T6+9Ut8yqXllTDAgz99B43hCn9Yruu7wqESQa9GVwzBmh3obbej1lwDQRlcF5xBRPEPKc7ZPFtKkLSx557AHP5zknMHMS1NMmuIJ7q0581951v8yt6vMOeNeJkM8PD7b2XtwABfqvYGN4QjKXxdCGppfektqM23I1Ef2DYCSyc6uVhylk6QAKqM68xgj6cmHPkbkoUuybwjHu/SnE0emZrizt3f5MxLMSF4qfBDAzxQHgyvioYjdB2C/n6Cy9+DGvlpcDGSzILIamAvXQ4EIOmA1uhtdyL1TciB+xE1jVJlCDo3KOIH0hhvE5GLNiG4WPgHb6E/hb/fw49m8ELYP0jwmg8g/ZcjZhaQJWP7J1IKFMQBNFFrriYM68gLnwM9SaQjgKuGiO9PY32HiExfjAnBxcAD6rJRPl3uD66P1kTohkrh+wguvxvV2AzxNIgq4HnZDCgywrSQxmaCK+6GA18EmSGyEVh3/WUu+TTwPhGxL2ZCcDHwB+/iI5WGvjNcUyLo0wT1tN76s0htIyQzHh63DHBUgkBDqwPW8pKKUlCJIDHQ6S5vSNLOYvCxcPCrCF2sLVFJ3J0H7zLP7biPTxUmvKRJsIB/7A72bO6X/1VeX+4pDUcEDQg2vgm1/iYgARGE5eBDnt9/mB8eOs0/f+teyrWyh7moEmjaC23+8sGn2bl9Hbt2b4NOvMQEB+DZAuyph0nGvksyB93zHdqn2ovHp90/u+4rPAOsaEKwGvzdI5TX1/lkNBj2hP0hQU2h+0dRQ28Auwg4JKdHfhz+hf2H+K3f/AJTkx0OHjjEb3z03WgsWFYvCkyi+NR//VMe/NZzDAxG/Mfffj+vef3WHzfBgeA8P4iPSS8cBXsWl4S4tulZn3Q/mTK87d5x2kUmXNwQEEB97CbeVanp64MUXtdCVEWhBq8ErcA0EVl+qbOdDv/zyw/RCDpsujTk2Sef46lHL+ean7kCWl1WLaUST33neX/N69NrZxZ8X3zi8rtQ1oJbksJ4LB2gBnfhmufRiRD0GyqL5vqP3WTede+XuBdwwIsZUKT+R6+m0RPJr3v4eqqyoGpDSHUUzAIiDpwsTf1Qc/zQec786BSXDIdEocLE8MRjz3PNdZvBxeBWsT1OfNvhGqxpKHorYdZX2ucYW7cPQ2wAlmaCFaQ64mPU8XlsPfQm9CzYX//o1e4bv7OPWRFxWXmxDFCAfs82bo8aemfQCFCVVJFCautBHGKbK6/1UYnDh04S2A6NckQYCAP1gNNjZ2nNzFKpKjArOKAlbdPM2vprapEQacXEbMf3uXVnL5juSpMZTgIfo2pO+piz2KNGsvM925LbUwO+CDjALG9AcffljQNE9bJ8IGhoVE+ALiskipByL2JbgIUV+Iktp0+fpxIKoU6loFJSzC02GT83xebN9ZVXBK3SNvN0mk36epS/Fi1ZX75P4jbY7iqbpRiyGKMIHXewPf5wRn3OfOCNA+5Pn5zCSJ4GK2WAAPp3r2d3pSp7dS1AlTWqpJBSBVEBmBaIA1Y2YHZ6nigUtAIleCOcSZidmQNXAmNWmv2zNr5tqBVKvCdZX75Pb4BZZQ5xksXoY1Wl2MeeMVSq8d7fvd7tvvEBHgcssKIB3vORmro1rGn/MEOXNBIoCCIgWX0MA1hLu90m0IIIXkrhodutRaABNmb5Evo2GINSKr+erC/fJ7bIgJUlPlYJlI/dVDUZy0iNW8HuAwxgCwMumPy29hNWyu5G8U9yNBIqJBCUDsB2eNF1zBp/B5UIQu6qgADOxjlEsvK1Nkbya4D8s88gsK3CvBWlfKw2EB+7Z6hqKuXkxozt6DRJMQwguHDp+/getkZl2akrGilpVGaA1oDxBuBWMECKk1sUBTQdRXGgAkUYxBDPpUqKTCwwIQiyNr4tDii69H3iukUGrLiSKMD4mFXoPEPGkjF9fI/b+r6HOZCzLmuA3lhnVxCpin+OFwjoPA9dB2yTFTf8LpP17WoNmLQFg3UQhJpaeQoWZyC2yxAIWJW2sb6tdQWntfg+cfNgbA4JwNJYnPMxID52z5CxZEwb63YXcDCHYNkM6KuoK3QkSJhKK0SJFy6GZB5U+YL9qAEbg8tkQMOaYcth42PxSgyEkWKwX3mAFU9KxmZtfNvE2Px6iI3vE+Jx6AKiQUJQqUQXPJBnaZzHnTOEQsaUsYH9+koGqExR4C6VQOHhtYBSxZqfLIJ0QVQBnwlHEYBm44YII4KxDqWETtfSP1qmvxFAe5UxbPFt+odKtM42sRXt+zAivk8sxXfSBSMgujDBWQ8P5LOvZ/AsGVMUJJeScxYGUKz/gA6FNeSpL5LDowpG1y0ARJbeza5l2+YKPX0pRCdGRFhsO153RR0dAq1VjskO32ZH2vax44v01qDVcVlfvk+63R8fcuSGkFAUKSTWM6AFAsGzgfbI+USoLrgy1AF9ko97dDHii71DAY1jqRJHowa73zTAuemEyZmEoFHi2msb0IpBWLkIvk3a1l+TXuv7SPvyfZK45Xf0TnCuqFOuoonHFTKmjA0IV50DlFAWlYM7L8T/UZhQ0IKw1Bfm2tzylj4mZgxHfjDHO9+3gTU1C9MGRFi1xI41/Zbb/9UmvvrFk1x5XcP3xeQCCAV9URWflzkv56EjCjI2QC1nQLFkC3j/XOGA82OriD3vdeUnPwbKswt84P3DtNUo5fkWnFvM4d3qyyjAdJPdW3q44vd2ULYGTs2BsUUbdwG4W6aTIn7AMyEChQFeLrhgLVHG0saQQxucE8TpvFGRGYIDWQZHcnUNcmKSst8GO9AX95TM5QxMzFOeXsh/ZgioAhhZCu/jLDIij9PgZS0Y8GxFT27Zs0BimcsucCZJJeByM6RYZ5VyEAlY5+Vc4Ssur3EFTGHzcmVFZzy4AJqlk1++HRAtgGA7zpvgkMIVDx7nLJaMbbXnAQ6gkzDhHbOZewpnFYKlyBHH7ILlqccT1o0Il25WRI3cAAsY8KYASKF/0ENQDdjCH5RAkJsdw/wUHDhsiGPh6l0BWgvOFkY561KZnMV6NkCWHIZcWkTEAcx25cS62Pm09Q66BKzgFAiCKju+9rU2n/l8m9EBxaYNiu3bFVfsVGzZLN6UWg2kLKBzEilAsKtkgyyzsgqQCLbpmJ2BsVOOI0cdB/7ecPio5eRpy2IC/+3fV9n7uhDbLoYGzjPgEoeLnWcDR47slsuA5MScPbKzq7HGYa1FOZWP9yIdDbChoRiMHBM/Sjh+EP76r6DSA319MLpWs3ZU0hpG1giDg1BvCOVK8aA4LIHWgIM4gaSbykC7Da0mzM45Jifg7LhLBafPWMbPWubnoNuCioZGGTY1NBNNRywOlEGUgC224BmDZ+lCxgaYlY7DFkgePcPRN2+3bWJbdkbhhwOCKEAsAJdsgZ7IURvqY+ueG2m12kycPMTcxBTz8zOMP2fY9xQUx2EPTKUCpciDE+ZGOCCOIUllDLRb3gT/dzwAiEBUhkojYmB9L72jIwyt3YbqLDD+zCP0Bwlr1+Y703y9w4CzeSYnFtOx7YwNiAG7kgHxn7zAyY9cxZFyx73GJXkKofK1FB/RJZvBhQ4zuI4rf+6DlIIAl7RJ4i7NmTMsTE3SWphhdvwIi1Oz/izfac/TmZ9J6wUfVDu2JE0DCGGkUZFQ0pr6aINyT18K3EO5ElEfXkN9aAuVnlpajxLVBglKJSSoMHHqGIf2P8rQSMLwEGAcqAwYHOBjj52fIBdaHMnYVjPAAZ3FmHh8Tp4YzAzwTXMBCGBgwzphYKPi6InjzE+cZP2m7agopFQqEW3aSpjWQRCgtUJEobTCJV1M3MSktQCCFCdrBeBwgA4rXojGp6+zmMSQJAndTodOp0XcjUEFjI8d5FS2Z7g2pKcOdhaQIk5vRKaWI2NajD1RZ+kQKCbCGGg9PGa/u2Ojen/Qdsp08RMfThAFDqjW4bVXBTx73yJ/99Cfcdudv8rQ8AhBoFEC4gwKRagDb0QYhqnqlEpr0UHo2+nMIAGAxFiM8ZAkcUw37qaQXTx0Cuuwvs9AK1Slig4SThw9yKMPfxWlYe81CiygQBxYBxiHyeDbjqTtbMYEtIA4Y13pFRkLND/1FH8/Neu+b5oW17XY2IEFBDxhF274Gc26Yc2hfQ/xh//hQ9z/+d/j/+x/gsXFRaJyhWpPnUq1RikqEwQhWmuKE6RFUlEs+DhrvESEQOvMNH9tT62W9lUjCCOmJs/zxN99my/8wT388X/+FeZPHeGyywLe8FoFHRDvPmDAJg7XsZiWJWPJmIAmYFd7LG6B1lxM69nT7oGbh+1rXVtBFbA+TiQQ6Dp2bBOu/SnNs49CqzPG/oe/zOPf/jK9QxvYsPlyLrtyNxsv2cHmbTtZM7KOWi0zpJeoFHJhCYLAC2Cx2UpNXGBhYYFTY0c5cewIxw+/wMED3+PMiR/Smp+iFsDaOqiy5pa3BdSq4NoAAhYweep3HG7ekrFkTOC1ggHFMGgBcx/7Lt9540Z7fKDXblYVQVVASgq0AxHoOG57V8CpH1h6gpCdQzAXW6aaJzn7wkkOPfNtDBBWqvTUB+kbGGZgzTr6B0YolatUUkWlEs5lBrbotFu0mvNMT5xh8vwZZqcnaC1MknRiIgWNClxSg4HBFFgL8aKjsll481sULDrwW25SCT5rWxYzb9N+7PGMBZgDWhfzg5EEmD8yy/zjY+5P3tpn/53uUdgKqAgIBTTQxm98bnxnyL6vxGzoUyit6VpFy8Bi4liMHc24RbM7Rmt8jB+N7edwAsbm4zSTeKEBrSEKoFKCDamqo0JPqFMpqgFUNIQidDqOMzG845dCqiHgBEHACi5/7moWHGbGkjFkLOCVLL8VXpoFC8DML/8t33lird2/tm52S9VnASpUoAUJgVnHLW/XnD1hmf6+Yf2wohQITsBYIXaOxCq6lrSG2Hl4/OrqKHbXgJZ8p6u8x4TKf6aU1SJo8dfQ7sLZSceb7gi5cpfAOQciuAw+gXzck8waxifs/owBmAEWXsoPRzvAzGyb3s8+6z7zGw3zGamoskRCGFiUVhCAWCHoWO74cMi9n4RzpyzrhhVR6IEQkeJUCljnLjil5pJifhUyCSLgRfFccbHjOD3t2PmWgJvfoWHCgCh8fwZs2/qhkcxa2lOmncWeMswBMzkTL25AkQVzwOTvP82RGzbK566vmA/rSLChQgILgaQCaUGj1/KeXyvx1T+IOXXMsnZYqOQ7Pa1ACtJVXvsQYOl53+QPRRe6KfyUY9tNAW9/b4CaMmBU/hgQXNtiU3ibwptJw5PH5HO//7Q7AkwCcxf/fkChLjAFVG/7uv3GU3XZvi1MbiYMQBRKCSoARJB5RzpZcmdqwl/fG3PiyYSRXqFeE0qSmyAXosqKh0DncngLnZhsGWMmdlz17hI3vFUhEwY6+aTXBdsCO++IZyzd8wlHxuxDt33dfQOYyBm6AKsasMpcMAVU7v5L90cP3G7XjGjzevIxKlohCE5AZqGnx/DOD4Y8faVm3zdjZs87BnuhWhHvm1KgAN9+OXgHNr/r3QQWFh1TKVh9s+a2O0K2bQXOWegKLgZfNx12zhJPpzpnsmH4bBYrMO3hlx37hfQnPvEJVirp/7l77rnHAEy00M+e5/s3jborKophAkEE8DAKEIhBWo71OxQ7rguII+H0acfMtKMbCw6wgPMSbCHi/G4vtv0dZ6oJekSx5+0lbv6FkOGK9fAuFjx4W7BNm8I7PPx4Bm8O/Mtvud/ZP84p4AwwlbJ3/59flBSROjACrH/TRtZ99hb5tXWb1BvC0QDdqwjqgvQoJAIJHRIAPcCAZqElHD5gOfqcYXrM0p13kBTDorjroCKI+hQjWxVbX6fZuk0oWQuTFjr5JjIRXAtc05LMO8ysJT6bcHrMfu9DD7r/8t2TnAROA+Mp2/xP7E1REekH1gCj23sZuv82+eDWTermcFij+1VugqDKApHkr8UDVaChIFI02zA97ZibhsUZR9x1AERVod4vNHqF/gEoBQ4WLcw6PLj14NB12LbDLTiSfJ2PzxsO/8h++1/8hfvvh6c4C17nU65pgJ+kAQL0A8N5NjT+/OfV26671L2/MqjLwaBGNwRdU0gZJBKkBBKACKDxxlABQoFAipOIARLnAWllNWBy8Kzu5tvaFphFi5lzJFOG1qRpP3ZEvnD71+y3gBlgPIMHZlxaXo53hRXQCwzlRgz86z1s+dAe+cW1o2q3HlAEfQqVZUJFpQIJMwloEA/tQFY4hjnAb2jyM33sPLxt47e2Nl/jzZTlzFm7/7PPuP/x6Wc4Ckzl4JPAbMpkX9a3xYE6MJirv6Kpf+atXHfDFvn5viG1RfcqdF2hqoJUBF0CSuLNQIOoYtcD5OAOH7bJwIGOw3T9WR7bdJgF68f7zIQ99sgx97UPP8hjLcM8MO3BvZh3aXmlfl+glmdDP9AHNNbXqP32Dey9dqPcMtgvu4KakswEXVXFkPDZgJdSAGBzcFye6nnKm6b18MmCdZNT7vnHT7q/+c1HePrUAguQ7/BgOr/rC6/4b4yISJRnQyM3oQ7UgOBX97LlZ7ervVv63d5anc2liopUJBAKEoAKfjwD/Pk9AfJHWN2W7SzMc/zYtDz9V4fs0+mO9BiQgIefz+Hn8rveAXjFDSjmBSoevlAV6AEiDerndrDm+o2s3zmoNg5V3bpqyEAUUAs1EUBs6HQSFpoxUxNNOf3DSTv2v8c49RcHOWfAAh1gEWh6+EKtYry/0gYsNSLIjejJVc2NKQOlXDqXLWoAFGCK2qubqw20cvjFTDl48ur7vcHCiAgo56p4+EIaUHlNIQxgC/hcHp52rs4S8FeVAUtXi/ACBb4uDChmgcKAGEh8TSFXBMqr24DV5woNKK/lz0M2l/Fj+xUo/xd+DYsy448VUQAAAABJRU5ErkJggg==" /></p>
<p>Подстановка символа <code>$</code> перед названием переменной <em>заменяет</em> вызов чтения этой переменной на её значение. Т.е.:</p>
<pre class="hljs"><code><div>a=<span class="hljs-string">"echo foo"</span>
<span class="hljs-variable">$a</span>      <span class="hljs-comment"># echo foo</span>
</div></code></pre>
<p>В примере выше интерпретатор подставляет на место <code>$a</code> её значение <code>echo foo</code>. После он рассматривает <strong>всю</strong> строку как <strong>команду</strong>, и если получается, выполняет её. Этот алгоритм работает во всех случаях использования <code>$</code>.</p>
<p>Иногда нужно строго задать границы названия вызываемой переменной:</p>
<pre class="hljs"><code><div>a=foo
abar=<span class="hljs-string">"i wanted sth else..."</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$abar</span>   <span class="hljs-comment"># i wanted sth else</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${a}</span>bar <span class="hljs-comment"># foobar</span>
</div></code></pre>
<p>Чтобы использовать знак доллара как знак доллара (а не как вызов переменной), необходимо его <em>экранировать</em>:</p>
<pre class="hljs"><code><div>a=<span class="hljs-string">"300\$"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>     <span class="hljs-comment"># 300$</span>
</div></code></pre>
<h3 id="23-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81-%D1%82%D0%BE%D1%87%D0%BA%D0%B8-%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D1%8F-bash">2.3. Вопросы существования с точки зрения <code>bash</code></h3>
<h4 id="231-%D0%BD%D0%B5%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5">2.3.1. Несуществующие переменные</h4>
<p>А что, если мы попытаемся обратиться к несуществующей переменной?
Попробуем:</p>
<pre class="hljs"><code><div>a=5
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$b</span>
</div></code></pre>
<p>И мы получим...</p>
<pre class="hljs"><code><div>5

</div></code></pre>
<p>... просто пустую строку на месте переменной <code>b</code>! Никаких вам <code>NameError: name 'b' is not exists</code>!</p>
<blockquote>
<p>В bash несуществующая переменная является пустой строкой.</p>
</blockquote>
<p>Поэтому код ниже абсолютно рабочий:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>             <span class="hljs-comment"># Empty output</span>
b=<span class="hljs-variable">$a</span>                <span class="hljs-comment"># Empty var 'b'</span>
c=<span class="hljs-string">"my answer: <span class="hljs-variable">$a</span>"</span>   <span class="hljs-comment"># my answer: </span>
</div></code></pre>
<h4 id="232-%D1%84%D0%BE%D0%BA%D1%83%D1%81%D1%8B-%D1%81-%D0%B8%D1%81%D1%87%D0%B5%D0%B7%D0%BD%D0%BE%D0%B2%D0%B0%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">2.3.2. Фокусы с исчезноваением</h4>
<p>Удалить переменную можно с помощью команды <code>unset</code>:</p>
<pre class="hljs"><code><div>a=foo
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>     <span class="hljs-comment"># foo</span>
<span class="hljs-built_in">unset</span> a
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>     <span class="hljs-comment"># nothing</span>
</div></code></pre>
<h3 id="24-%D0%BE%D1%81%D0%BE%D0%B1%D1%8B%D0%B5-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5">2.4. Особые переменные</h3>
<p>Такие переменные уникальны тем, что им нельзя вручную задать значение — они доступны только для чтения.</p>
<h4 id="241-%D0%BF%D0%BE-%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BA%D1%83-%D1%80%D0%B0-%D0%B0-%D0%B0-%D1%81-c-%D1%87%D0%B8%D1%82%D0%B0%D0%B9%D1%81%D1%8C">2.4.1. По порядку ра-а-а-с-c-читайсь!</h4>
<p>Позиционные переменные — переменные вида:
<code>$0 $1 $2 ...</code></p>
<p><code>$0</code> хранит в себе <em>абсолютный</em> путь до скрипта:</p>
<pre class="hljs"><code><div>linux@vasya:~/bmstu/bash$ cat test.sh
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$0</span>

linux@vasya:~/bmstu/bash$ bash test.sh
/home/vasya/bmstu/bash/test.sh

linux@vasya:~/bmstu/bash$
</div></code></pre>
<p>Остальные переменные хранят <em>аргументы</em>:</p>
<pre class="hljs"><code><div>$ cat test.sh
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$2</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$3</span>

$ bash test.sh foo bar <span class="hljs-string">"hello, bash!"</span>
foo
bar
hello, bash!

linux@vasya:~/bmstu/bash$
</div></code></pre>
<p>Кол-во заданных позиционных параметров (кроме <code>$0</code>) можно узнать из переменной <code>$#</code>:</p>
<pre class="hljs"><code><div>$ cat test.sh
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$#</span>

$ bash test.sh foo bar <span class="hljs-string">"hello world!"</span>
3
</div></code></pre>
<p>Мы получим ответ &quot;3&quot;, т.к.:</p>
<ul>
<li>Нулевой аргумент присутствует всегда — это путь до исполняемого файла, но он не считается;</li>
<li>Далее 2 очевидных параметра;</li>
<li>В конце идёт <em>один</em> параметр, представляющий из себя два слова с пробелом между.</li>
</ul>
<p>Все аргументы (т.е. позиционные переменные, начиная с <code>$1</code>) вместе хранятся в ещё двух уникальных переменных: <code>$@</code> и <code>$*</code>:</p>
<pre class="hljs"><code><div>$ cat test.sh
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$@</span>
<span class="hljs-built_in">echo</span> $*

$ bash test.sh foo bar <span class="hljs-string">"hello world!"</span>
foo bar hello world!
foo bar hello world!
</div></code></pre>
<p>Может показаться, что они абсолютно эквивалентны. Однако на самом деле есть один нюанс, который будет рассмотрен в главе VII.</p>
<h4 id="242-%D0%BA%D0%BE%D0%B4-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B0">2.4.2. Код возврата</h4>
<p><code>$?</code> хранит код возврата <em>последней выполненной команды</em>.</p>
<p>Небольшое отступление про коды возврата.</p>
<p>Каждая программа в linux-е возвращает некоторое число, показывающее состояние программы на момент завершения. Если программа завершилась успешно, это число <code>0</code>. Иначе она может вернуть любое другое число, каждое из которых имеет свой смысл, однако нам важно понять, что <em>всё что не нуль — это некорректное завершение</em>.</p>
<p>Чтобы пазл окончательно сложился, увидим на примере:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">echo</span> Hello!
<span class="hljs-built_in">echo</span> $?
</div></code></pre>
<p>Получим:</p>
<pre class="hljs"><code><div>Hello!
0
</div></code></pre>
<p>Или такой пример:</p>
<pre class="hljs"><code><div><span class="hljs-literal">true</span>
<span class="hljs-built_in">echo</span> $?     <span class="hljs-comment"># 0</span>
<span class="hljs-literal">false</span>
<span class="hljs-built_in">echo</span> $?     <span class="hljs-comment"># 1</span>
</div></code></pre>
<p>Да-да, в bash-е есть <em>команды</em> <code>true</code> и <code>false</code>! Важно не перепутать: <code>true</code> возвращает <strong>нуль</strong>, т.к. это код успешного выполнения программы, а <code>false</code> возвращает <strong>единицу</strong>, т.к. это ненулевой код возврата некорректного завершения программы. Однако, не каждое некорректное завершение программы вернёт <code>1</code> (может быть любое другое ненулевое значение).</p>
<p>Вернёмся к кодам возврата в будущем.</p>
<h3 id="25-%D0%BC%D0%B0%D0%BD%D0%B8%D0%BF%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D0%B8-%D1%81%D0%BE-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B0%D0%BC%D0%B8">2.5. Манипуляции со строками</h3>
<h4 id="251-%D0%B4%D0%BB%D0%B8%D0%BD%D1%8B-%D1%81%D1%82%D1%80%D0%BE%D0%BA">2.5.1. Длины строк</h4>
<p>Любая переменная в <code>bash</code>-е является строкой, а строка имеет длину. Длину строки можно узнать:</p>
<pre class="hljs"><code><div>a=foo
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${#a}</span>  <span class="hljs-comment"># 3</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${#b}</span>  <span class="hljs-comment"># 0</span>
</div></code></pre>
<h4 id="252-%D0%B6%D0%BE%D0%BD%D0%B3%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D0%BC-%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D0%BC%D0%B8">2.5.2. Жонглируем регистрами</h4>
<p>У переменной можно изменить регистр (т.е. заглавные-строчные буквы):</p>
<pre class="hljs"><code><div>a=foo
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${a,,}</span>     <span class="hljs-comment"># foo</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${a^^}</span>     <span class="hljs-comment"># FOO</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${a^}</span>      <span class="hljs-comment"># Foo</span>
</div></code></pre>
<h3 id="253-%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0%D1%82%D0%B5%D0%BD%D0%B0%D1%86%D0%B8%D1%8F--%D0%BD%D0%B5-%D1%81%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5">2.5.3. Конкатенация — не сложение!</h3>
<p>Для сложения строк и чисел во многих ЯП используется символ <code>+</code>:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Python3</span>
a = <span class="hljs-string">"foo"</span>
b = <span class="hljs-string">"bar"</span>
c = a + b
print(c)  <span class="hljs-comment"># foobar</span>
</div></code></pre>
<p>Но не в bash. Правильная запись &quot;сложения&quot; (конкатекации) строк:</p>
<pre class="hljs"><code><div>a=foo
b=bar
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${foo}</span><span class="hljs-variable">${bar}</span>   <span class="hljs-comment"># foobar</span>
</div></code></pre>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-iii-%D0%B2%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5-%D1%81-%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%BC-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">Глава III. Взаимодействие с внешним окружением</h2>
<h3 id="31-%D0%B2%D0%B2%D0%BE%D0%B4-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85">3.1. Ввод переменных</h3>
<p>Когда нужно получить ввод пользователя, используется команда <code>read</code>:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">read</span> a
</div></code></pre>
<p>Нет необходимости объявлять переменную заранее. Она будет создана автоматически.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># WRONG</span>
a=<span class="hljs-string">""</span>
<span class="hljs-built_in">read</span> a

<span class="hljs-comment"># CORRECT</span>
<span class="hljs-built_in">read</span> a
</div></code></pre>
<p>Что делать, если вводимых значений несколько?
Если ввод построчный, то:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">read</span> a
<span class="hljs-built_in">read</span> b
</div></code></pre>
<p>Если ввод идёт через пробел:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">read</span> a b
</div></code></pre>
<p>Если ввод разделён <em>не</em> пробелом:</p>
<pre class="hljs"><code><div>IFS=<span class="hljs-string">", "</span>
<span class="hljs-built_in">read</span> a b
</div></code></pre>
<p>Пример выше позволяет вводить переменные через запятую и пробел:
<code>5, abc</code></p>
<p><code>IFS</code> — переменная, которая хранит строку, разделяющая вводимые переменные. Хорошей практикой будет сохранять его предыдущее значение:</p>
<pre class="hljs"><code><div>OLD_IFS=<span class="hljs-variable">$IFS</span>
IFS=<span class="hljs-string">", "</span>

<span class="hljs-built_in">read</span> a b
...

IFS=<span class="hljs-variable">$OLD_IFS</span>
</div></code></pre>
<h3 id="32-%D0%BA%D0%BE%D0%B4%D1%8B-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B0">3.2. Коды выхода</h3>
<p>Через команду <code>exit</code> можно завершить выполнение скрипта. А передав в неё числовой параметр, мы возвращаем его как код возврата:</p>
<pre class="hljs"><code><div>$ cat test.sh
<span class="hljs-built_in">echo</span> hello!
<span class="hljs-built_in">exit</span> 1

$ bash test.sh
hello!

$ <span class="hljs-built_in">echo</span> $?
1
</div></code></pre>
<p>Небольшая справка про зарезервированные коды возврата — https://tldp.org/LDP/abs/html/exitcodes.html</p>
<p>Мы можем использовать:</p>
<ul>
<li><code>0</code> — программа завершилась успешно.</li>
<li><code>1</code> — код для ошибки (буквально для любых ошибок).</li>
<li><code>2</code> — обозначает ошибку, возникшую по вине пользователя.</li>
<li><code>3-126</code> — свободные коды ошибок, используем как хотим.</li>
</ul>
<h3 id="33-%C2%AB%D1%82%D1%80%D0%BE%D0%B5-%D0%B8%D0%B7-%D0%BB%D0%B0%D1%80%D1%86%D0%B0%C2%BB-%D0%B8%D0%BB%D0%B8-std-%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B8">3.3. «Трое из ларца» или std-потоки</h3>
<p>Существует три основных потока:</p>
<ul>
<li><code>stdin</code> (0) — стандартный поток ввода в программу.</li>
<li><code>stdout</code> (1) — стандартный поток вывода из программы.</li>
<li><code>stderr</code> (2) — стандартный поток ошибок из программы.</li>
</ul>
<p>По умолчанию команда <code>echo</code> выводит текст в <code>stdout</code>. Чтобы задать другой поток, используется синтаксис:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
</div></code></pre>
<p>В примере выше мы выводим текст ошибки в поток <code>stderr</code>.</p>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-iv-%D0%B2%D0%B5%D1%82%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B2-bash-%D0%B5-%D0%B8%D0%BB%D0%B8-%C2%AB%D0%B0-%D1%87%D1%82%D0%BE-%D0%B5%D1%81%D0%BB%D0%B8%C2%BB">Глава IV. Ветвления в <code>bash</code>-е или «А что если...»</h2>
<h3 id="41-%D1%8D%D1%82%D0%BE-%D0%B1%D0%B0%D0%B7%D0%B0">4.1. Это база!</h3>
<p>Условие в <code>bash</code> записывается просто:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> condition1
<span class="hljs-keyword">then</span>
    ...
<span class="hljs-keyword">elif</span> condition2
    ...
<span class="hljs-keyword">else</span>
    ...
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>Для понимания всей творящейся магии, ещё раз повторим:</p>
<blockquote>
<p>В <code>bash</code>-е эквивалент <code>True</code> — это 0, а <code>False</code> — <code>!= 0</code></p>
</blockquote>
<p>И оператор <code>if</code> смотрит <em>на код возврата выражения, стоящего после него</em>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> some_program
<span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> Program finished successfully
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> Program finished with non-zero code $?
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>В примере выше мы запускаем программу, получаем код возврата и:</p>
<ul>
<li>если код возврата равен нулю (программа завершилась корректно), то срабатывает верхняя ветвь условия, и мы видим &quot;Program finished successfully&quot;.</li>
<li>иначе мы выводим &quot;Program finished with non-zero code N&quot;, где N — код возврата программы, который мы получили через переменную <code>$?</code> (см. 2.4.2).</li>
</ul>
<p>Но вся прелесть условий раскрывается при использовании скобок.</p>
<h3 id="42-%22%22-%D0%B8-%D0%B5%D0%B3%D0%BE-%D0%B4%D1%80%D1%83%D0%B7%D1%8C%D1%8F">4.2. &quot;[&quot; и его друзья</h3>
<h4 id="421-%D0%BD%D0%B5%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%B4%D1%83%D1%88%D0%BD%D0%BE%D0%B9-%D1%82%D0%B5%D0%BE%D1%80%D0%B8%D0%B8">4.2.1. Немного душной теории</h4>
<p>Как Вы думаете, что такое <code>[ ]</code>? Возможно, мир для Вас уже не станет прежним, но... <code>[</code> — это команда. Да, команда с очень странным названием, но это самая что ни на есть команда. А <code>]</code> — это её последний аргумент. Её знают ещё под одним именем — <code>test</code>. Т.е. каждый раз, когда Вы пишете:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>Вы на самом деле пишите что-то похожее на это:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> <span class="hljs-variable">$a</span>; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>Часто можно увидеть такую запись условия:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [[ ... ]]; <span class="hljs-keyword">then</span>
    ...
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>И в этом случае <code>[[</code> — команда, а <code>]]</code> — её последний аргумент.</p>
<p>В чём разница? Если кратко, <code>[</code> — это стандарт, принятый во всех <code>POSIX</code>-системах. Это значит, что такая запись сработает почти на любой ОС, поддерживающей <code>POSIX</code>. А <code>[[</code> — это уже локальные особенности bash-а (и не только его), и не факт, что, оказавшись на незнакомой машине, такое условие сработает.</p>
<p>Мы изучаем именно <code>bash</code>, поэтому смело:</p>
<blockquote>
<p>Правило «Чем больше — тем лучше» — между <code>[[</code> и <code>[</code> в учебной практике смело выбирайте <code>[[</code>!</p>
</blockquote>
<p>Просто потому, что некоторые особенности <code>[[</code> не работают на <code>[</code>, зато все возможности <code>[</code> поддерживаются <code>[[</code> (обратная совместимость). И лучше лишний раз записать больше скобок, чем скрипт неожиданно сломается.</p>
<p>Автор далее будет использовать обе формы записи, используя <code>[</code> везде, где возможно.</p>
<p>Также, к &quot;друзьям&quot; <code>[</code> можно отнести <code>((</code>, но к этой парочке вернёмся в пятой главе.</p>
<h4 id="422-%D1%81%D0%BE%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5-%D0%B4%D0%B8%D1%81%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">4.2.2. Социальное дистанционирование</h4>
<p>Именно потому, что <code>[</code> и <code>[[</code> — это на самом деле команды, они так требовательны к пробелам:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [<span class="hljs-variable">$a</span>]                 <span class="hljs-comment"># WRONG</span>
<span class="hljs-keyword">if</span> [[<span class="hljs-variable">$a</span>]]               <span class="hljs-comment"># WRONG</span>
<span class="hljs-keyword">if</span> [! <span class="hljs-variable">$a</span> ]              <span class="hljs-comment"># WRONG</span>
<span class="hljs-keyword">if</span> ![[ <span class="hljs-variable">$a</span> ]]            <span class="hljs-comment"># WRONG</span>
<span class="hljs-keyword">if</span> !([ <span class="hljs-variable">$a</span> ] &amp;&amp; [ <span class="hljs-variable">$b</span> ])  <span class="hljs-comment"># WRONG</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> ]               <span class="hljs-comment"># CORRECT</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$a</span> ]]             <span class="hljs-comment"># CORRECT</span>
<span class="hljs-keyword">if</span> [ ! <span class="hljs-variable">$a</span> ]             <span class="hljs-comment"># CORRECT</span>
<span class="hljs-keyword">if</span> ! [[ <span class="hljs-variable">$a</span> ]]           <span class="hljs-comment"># CORRECT</span>
<span class="hljs-keyword">if</span> ! ([[ <span class="hljs-variable">$a</span> ]])         <span class="hljs-comment"># CORRECT</span>
</div></code></pre>
<h3 id="43-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%22%22">4.3. Возможности &quot;[&quot;</h3>
<h4 id="431-%D1%8D%D0%BA%D0%B7%D0%B8%D1%81%D1%82%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B">4.3.1. Экзистенциальные вопросы</h4>
<p>Для проверки, существует ли переменная, просто записывайте переменную в <code>[ ]</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> ]; <span class="hljs-keyword">then</span>
    ...
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>Есть нюансы с использованием <code>-n</code> и <code>-z</code> параметров... Их поведение на самом деле не так очевидно, поэтому автор рекомендует избегать их использования.</p>
<h4 id="432-%D1%8D%D0%BA%D0%B2%D0%B8%D0%B2%D0%B0%D0%BB%D0%B5%D0%BD%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C">4.3.2. Эквивалентность</h4>
<p>Редкий случай, когда для сравнения используется именно <code>=</code>, а не <code>==</code>:</p>
<pre class="hljs"><code><div>a=foo
b=foo
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> = <span class="hljs-variable">$b</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"\$a = \$b"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"\$a != \$b"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Output: $a = $b</span>
</div></code></pre>
<h4 id="433-%D0%BB-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BA%D0%B0">4.3.3. Л-Логика</h4>
<p>В порядке приоритета:
<code>NOT</code> = <code>!</code>
<code>AND</code> = <code>-a</code>
<code>OR</code> = <code>-o</code></p>
<p>Чтобы изменить приоритет, используются <code>( )</code>-скобки, которые нужно обязтаельно экранировать (так надо) — <code>\(  \)</code>. Эти скобки на самом деле обозначают создание нового subshell-а, который возвращает результат выражения внутри... Но нам главное, что эти скобки похожи на человеческие скобки, и делают они то же самое, что мы от них и ждём:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [ ! \(<span class="hljs-variable">$a</span> -a <span class="hljs-variable">$b</span>\) ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
...
</div></code></pre>
<p>Скрипт выше выводит <code>ERROR</code>, если одна из переменных не задана.</p>
<h4 id="434-%D0%B0%D0%BB%D0%B3%D0%B5%D0%B1%D1%80%D0%B0%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F">4.3.4. Алгебраические сравнения</h4>
<p>К нюансам работы с числами вернёмся в главе V.</p>
<p>Если переменные представлены строками, содержащими <strong>целые</strong> числа, нам доступны такие операции:</p>
<ul>
<li><code>-eq</code> (<strong>eq</strong>ual) = <code>==</code></li>
<li><code>-ne</code> (<strong>n</strong>ot <strong>e</strong>qual) = <code>!=</code></li>
<li><code>-gt</code> (<strong>g</strong>reater <strong>t</strong>hen) = <code>&gt;</code></li>
<li><code>-lt</code> (<strong>l</strong>ess <strong>t</strong>hen) = <code>&lt;</code></li>
<li><code>-ge</code> (<strong>g</strong>reater or <strong>e</strong>qual) = <code>&gt;=</code></li>
<li><code>-le</code> (<strong>l</strong>ess or <strong>e</strong>qual) = <code>&lt;=</code></li>
</ul>
<p>Например:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -lt 2 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
...
</div></code></pre>
<p>Скрипт вернёт ошибку, если кол-во параметров будет меньше двух.</p>
<p>Если хотя бы одна переменная будет <em>не</em> числом, то команда <code>[</code> вернёт код ошибки 2 и текст ошибки в <code>stderr</code>. Т.к. любой код, отличный от нуля, преобразовывается в логическое <code>false</code>, то выполнится ветвь код для отрицания. Поэтому работает такой фокус:</p>
<pre class="hljs"><code><div>a=abc
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> -eq <span class="hljs-variable">$a</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'a'</span> is a number
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'a'</span> is not a number
<span class="hljs-keyword">fi</span>

b=123
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$b</span> -eq <span class="hljs-variable">$b</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'b'</span> is a number
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'b'</span> is not  a number
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>Если смотреть поток <code>stdout</code>, то мы увидим:</p>
<pre class="hljs"><code><div>var 'a' is not a number
var 'b' is a number
</div></code></pre>
<p>Но на самом деле пользователь увидит что-то такое:</p>
<pre class="hljs"><code><div>bash: [: abc: integer expression expected
var 'a' is not a number
var 'b' is a number
</div></code></pre>
<p>Чтобы проверить, является ли условие ложным или в нём произошла такая ошибка, можно проверить код возврата:</p>
<pre class="hljs"><code><div>a=abc
<span class="hljs-comment"># a=123</span>
c=321
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$c</span> -gt <span class="hljs-variable">$a</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">'c'</span> greaten than <span class="hljs-string">'a'</span>
<span class="hljs-keyword">elif</span> [ $? -eq 1 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">'c'</span> less than <span class="hljs-string">'a'</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</div></code></pre>
<blockquote>
<p>Лучше не допускать попадание некорректных данных в условие, а валидировать числа заранее. Подробнее об этом будет описано в V главе.</p>
</blockquote>
<h3 id="44-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%22%22">4.4. Возможности &quot;[[&quot;</h3>
<p><code>[[</code> имеет все те же возможности, что и <code>[</code>, но с некоторыми дополнениями.</p>
<h4 id="441-%D0%BB-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BA%D0%B0-%D1%872">4.4.1. Л-Логика ч.2</h4>
<p>В <code>[[</code> можно смело использовать более популярный синтаксис логических операций (как в С).</p>
<p><code>==</code>, <code>!=</code> — работает как для чисел, так и для строк</p>
<p><code>&amp;&amp;</code>, <code>||</code> — работает для чисел</p>
<p>Перепишем пример с <code>[</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> ! [[ <span class="hljs-variable">$a</span> &amp;&amp; <span class="hljs-variable">$b</span>  ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p>В отличие от <code>[</code>, здесь экранировать <code>( )</code> не требуется.</p>
<h4 id="442-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">4.4.2. Используем регулярные выражения</h4>
<p>К регулярным выражениям вернёмся в главе IV.</p>
<p>Чтобы проверить текст на соответствие регулярному выражению, используется оператор <code>=~</code>.</p>
<pre class="hljs"><code><div>a=123
<span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$a</span> =~ \d+ ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'a'</span> is a number
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> var <span class="hljs-string">'a'</span> isn\<span class="hljs-string">'n a number
fi
</span></div></code></pre>
<blockquote>
<p>В записи регулярного выражения внутри регулярного выражения не должно быть кавычек!</p>
</blockquote>
<p>Потому что такие кавычки будут восприняты как <em>символ кавычек</em>, а не как граница выражения.</p>
<h3 id="45-%D1%84%D0%BE%D0%BA%D1%83%D1%81%D1%8B">4.5. Фокусы!</h3>
<h4 id="451-%D0%BA%D1%80%D0%B0%D1%81%D0%B8%D0%B2%D0%BE-%D0%BD%D0%BE">4.5.1. Красиво, но...</h4>
<p><code>bash</code> очень гибок. Код ниже абсолютно валиден:</p>
<pre class="hljs"><code><div>[[ <span class="hljs-variable">$condition</span> ]] &amp;&amp; <span class="hljs-built_in">echo</span> yes || <span class="hljs-built_in">echo</span> no
</div></code></pre>
<p>Если условие верно, то выведится <code>yes</code>, иначе <code>no</code>.</p>
<p>Как это работает? Рассмотрим для начала последовательность выполнения команд при истинном условии.</p>
<ol>
<li>Условие заменяется на 0, что эквивалентно <code>true</code></li>
</ol>
<pre class="hljs"><code><div>[[ <span class="hljs-variable">$condition</span> ]] --&gt; <span class="hljs-built_in">test</span> <span class="hljs-variable">$condition</span> --&gt; 0 --&gt; <span class="hljs-literal">true</span>
</div></code></pre>
<ol start="2">
<li><code>bash</code> смотрит на это выражение как на логическое и пытается вычислить его значение (<code>true</code> или <code>false</code>):</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-literal">true</span> &amp;&amp; <span class="hljs-built_in">echo</span> yes || <span class="hljs-built_in">echo</span> no
</div></code></pre>
<p>По законам алгебры логики:</p>
<pre class="hljs"><code><div>1 &amp;&amp; a || b
</div></code></pre>
<p>преобразуется в</p>
<pre class="hljs"><code><div>a || b
</div></code></pre>
<p>Причём если верно <code>a</code>, то независимо от значения <code>b</code> итог будет <code>true</code>.
Интерпретатор — как студент — очень ленивый. Если <code>a</code> верно, то зачем считать <code>b</code>? Поэтому сначала он выполнит только команду слева от <code>||</code>, т.е. <code>echo yes</code>.
Она выполнится успешно (а почему нет?) и всё, что после <code>||</code> выполнено не будет. Получаем вывод <code>yes</code>.</p>
<p>Теперь случай для ложного условия.</p>
<ol>
<li>Условие заменяется на 1 (или другой код), который эквивалентен <code>false</code>.</li>
</ol>
<pre class="hljs"><code><div>[[ <span class="hljs-variable">$condition</span> ]] --&gt; <span class="hljs-built_in">test</span> <span class="hljs-variable">$condition</span> --&gt; 1 --&gt; <span class="hljs-literal">false</span>
</div></code></pre>
<ol start="2">
<li><code>bash</code> смотрит на это выражение как на логическое и пытается вычислить его значение:</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-literal">false</span> &amp;&amp; <span class="hljs-built_in">echo</span> yes || <span class="hljs-built_in">echo</span> no
</div></code></pre>
<p>По законам алгебры логики:</p>
<pre class="hljs"><code><div>0 &amp;&amp; a || b
</div></code></pre>
<p>преобразуется в</p>
<pre class="hljs"><code><div>b
</div></code></pre>
<p>Т.е независимо от значения <code>a</code> итоге будет равен значению <code>b</code>. Интерпретатору не имеет смысла выполнять команда до <code>||</code> и сразу выполняет команду после. Получаем вывод <code>no</code>.</p>
<h4 id="452--%D0%BB%D1%83%D1%87%D1%88%D0%B5-%D0%BD%D0%B5-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C">4.5.2. ... лучше не использовать</h4>
<p>Красиво, но такую запись ветвления не рекомандуется использовать в коде. Почему?</p>
<ol>
<li>Ухудшение читабельности. В короткой записи довольно-таки сложно разобраться.</li>
<li>Тяжелее работать с кодом. Если Вы записали условие, например:</li>
</ol>
<pre class="hljs"><code><div>[ <span class="hljs-variable">$a</span> ] &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span> || <span class="hljs-built_in">echo</span> ERROR
</div></code></pre>
<p>Вы захотели добавить <code>exit 1</code>, то Вам придётся перезаписывать условие в полную форму:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$a</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> ERROR
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
</div></code></pre>
<ol start="3">
<li>Непредсказуемое поведение. В некоторых случаях может выскочить не то, что Вы хотели:</li>
</ol>
<pre class="hljs"><code><div>[ <span class="hljs-variable">$condition</span> ] &amp;&amp; command1 || command2
</div></code></pre>
<p>Если команда <code>command1</code> завершится с ненулевым кодом возврата, то будет выполнена вторая команда (почему? попробуйте разобрать последовательность вызовов), несмотря на то, что условие истинно.</p>
<p>Тогда для чего это было показано? Есть две причины:</p>
<ol>
<li>В интернете нередко можно заметить такие фокусы, которые в первый раз могут вызвать затруднения с пониманием, как это работает и что оно делает.</li>
<li>В командной строке, когда нужно быстро проверить какое-то условие в командной строке.</li>
</ol>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-v-%D0%BC%D0%B0%D1%81%D0%BA%D0%B8-%D0%B8-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F--%D1%81-%D1%87%D0%B5%D0%BC-%D0%B8%D1%85-%D0%B5%D1%81%D1%82%D1%8C-%D0%B8-%D0%B7%D0%B0%D1%87%D0%B5%D0%BC">Глава V. Маски и регулярные выражения — с чем их есть и зачем?</h2>
<p>Сделаем небольшое отступление от синтаксиса <code>bash</code>-а, т.к. это нам пригодится в будущем.
В этой главе будут разобраны <em>маски файлов</em> и <em>регулярные выражения</em> — очень похожие, но такие разные инструменты работы со строками.</p>
<h3 id="51-%D0%BC%D0%B0%D1%81%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0">5.1. Маски(ровка)</h3>
<p>Маски файлов преимущественно нужны для работы с каталогами и с файлами. Они очень просты:
<code>*</code> - обозначает любую последовательность символов;
<code>?</code> - обозначает ровно один любой символ;
Все остальные символы обозначают сами себя.</p>
<p>Пример для команды <code>ls</code>:</p>
<pre class="hljs"><code><div>$ ls
4.txt 40.txt 42.txt 45.py

$ ls *.txt
4.txt 40.txt 42.txt

$ ls 4*
4.txt 40.txt 42.txt 45.txt

$ ls 4?.txt
40.txt 42.txt
</div></code></pre>
<h3 id="52-%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5-%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F">5.2. Регулярные выражения</h3>
<blockquote>
<p><a href="https://regex101.com/">https://regex101.com</a> — регулярные выражения лучше всего писать и тестировать именно здесь. И все примеры лучше проверять здесь</p>
</blockquote>
<p>Регулярное выражение, простыми словами — некоторый шаблон, по которому можно определить соответствие строк. Это не строгое сравнение, как в случае с <code>==</code>, а &quot;умное&quot;. По регулярным выражениям есть целый предмет — Теория Формальных Языков (ТФЯ), кошмар для ИУ9.</p>
<p>Регулярные выражения — очень полезный инструмент, с базовыми основами которого попробуем разобраться в этой главе.</p>
<p><em>Единственное, что не могут регулярные выражения — так это <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">распарсить HTML</a></em></p>
<h4 id="521-%D1%8D%D1%82%D0%BE-%D0%B1%D0%B0%D0%B7%D0%B0">5.2.1. Это база!</h4>
<p>Регулярные выражения могут не использовать специальных символов:</p>
<pre class="hljs"><code><div>text
</div></code></pre>
<p>Для строки:</p>
<pre class="hljs"><code><div>some text
</div></code></pre>
<p>данному регулярному выражению будет соответствовать подстрока:</p>
<pre class="hljs"><code><div>text
</div></code></pre>
<p>(проверьте на сайте выше, как это выглядит)</p>
<p>Пример:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> [[ <span class="hljs-string">"some text"</span> =~ text ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> yes
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> no
<span class="hljs-keyword">fi</span>
</div></code></pre>
<p><code>&quot;some text&quot;</code> — это строка, которую проверяем на соответствие регулярному выражению (на этом месте может быть переменная), и <code>text</code> — как ни странно, <strong>само регулярное выражение</strong>, просто записанное без спец. символов.</p>
<p>Т.к. в строке <code>some text</code> есть подстрока <code>text</code>, результатом работы скрипта будет ответ <code>yes</code>.</p>
<h4 id="522-%D1%81%D0%BD%D0%BE%D0%B2%D0%B0">5.2.2. Снова <code>[ ]</code></h4>
<p><code>[ ]</code> — обозначают любой символ внутри. Например:</p>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-identifier">ab</span>]</span>c
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>ac
bc
</div></code></pre>
<p>Чтобы не писать весь алфавит, можно использовать диапазоны:</p>
<ul>
<li><code>[A-Z]</code> — заглавные латинские буквы</li>
<li><code>[a-z]</code> — строчные латинские буквы</li>
<li><code>[A-z]</code> — латинские буквы (именно в таком порядке!)</li>
<li><code>[0-9]</code> — цифры</li>
<li><code>[0-f]</code> — так тоже можно, это будут шестнадцатеричные цифры в нижнем регистре</li>
</ul>
<p>Например:</p>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">2</span>]</span><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>00
18
29
</div></code></pre>
<p>и т.п.</p>
<p>Чтобы не перебирать все возможные символы, &quot;любой символ&quot; можно задать <code>.</code>:</p>
<pre class="hljs"><code><div>..
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>ab
5$
</div></code></pre>
<h4 id="523-%D0%BA%D0%B2%D0%B0%D0%BD%D1%82%D0%BE%D1%80%D1%8B">5.2.3. Кванторы</h4>
<p>Если простым языком, кванторы определяют количество предыдущей строки/символа в подстроке.</p>
<ul>
<li><code>?</code> — от 0 до 1</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">0</span>]</span>?<span class="hljs-literal">[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]</span>
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>2
01
</div></code></pre>
<ul>
<li><code>*</code> — больше или равно 0</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>*
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>
0
35434646
</div></code></pre>
<ul>
<li><code>+</code> — больше 0</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>+
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>1
1235
</div></code></pre>
<h4 id="524-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">5.2.4. Экранирование</h4>
<p>Чтобы использовать специальный символ как сам символ, используется <strong>экранирование</strong> при помощи <code>\</code>.
Например, если нам нужно регулярное выражение на проверку расширения файла:</p>
<pre class="hljs"><code><div>.*\.txt
</div></code></pre>
<p>Первая точка будет обозначать <strong>любой символ</strong>, а вторая, экранированная, обозначает саму себя, т.е. точку.</p>
<h4 id="525-%D0%BF%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D1%8F">5.2.5. Повторения</h4>
<p>Если нужно конкретное количество повторений подстроки, используются такие скобки — <code>{}</code>:</p>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]</span><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>{<span class="hljs-number">3</span>}
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>1830
2023
</div></code></pre>
<p>Или можно записать так:</p>
<pre class="hljs"><code><div><span class="hljs-literal">[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]</span><span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>{<span class="hljs-number">1</span>-<span class="hljs-number">3</span>}
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>10
128
1830
</div></code></pre>
<h4 id="526-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B">5.2.6. Группы</h4>
<p>Если кванторы нужно применить не к одному символу, можно оборачивать нужную подстроку в <em>группу</em> <code>( )</code>:</p>
<pre class="hljs"><code><div>(ab)*
</div></code></pre>
<p>Будут соответствовать строки:</p>
<pre class="hljs"><code><div>
ab
ababab
</div></code></pre>
<h4 id="527-%D1%8F%D0%BA%D0%BE%D1%80%D1%8F">5.2.7. Якоря</h4>
<p>Якоря обозначают начало и конец строки:</p>
<ul>
<li><code>^</code> — начало строки</li>
<li><code>$</code> — конец строки</li>
</ul>
<p>При помощи якорей можно &quot;отбросить&quot; соответствие на подстроки. Например:</p>
<pre class="hljs"><code><div>[[ <span class="hljs-string">"file.txt.a"</span> =~ .*\.txt ]]    <span class="hljs-comment"># True</span>
[[ <span class="hljs-string">"file.txt.a"</span> =~ .*\.txt$ ]]   <span class="hljs-comment"># False</span>
[[ <span class="hljs-string">"file.txt"</span> =~ .*\.txt$ ]]     <span class="hljs-comment"># True</span>
</div></code></pre>
<h4 id="528-%D1%87%D0%B8%D1%81%D0%BB%D0%B0">5.2.8. Числа!</h4>
<p>Итак, наконец мы получили достаточно знаний, чтобы написать регулярное выражение для целого числа:</p>
<pre class="hljs"><code><div>^<span class="hljs-literal">[-+]</span>?<span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>+$
</div></code></pre>
<p>Разберем каждый символ:</p>
<ul>
<li><code>^</code> — начало строки, т.е. мы отбрасываем &quot;ab566&quot; значения</li>
<li><code>$</code> — конец строки, т.е. мы отбрасываем &quot;1223ab&quot; значения</li>
<li><code>[-+]</code> — любой символ, + или -</li>
<li><code>[-+]?</code> — обозначет, что &quot;+&quot; или &quot;-&quot; необязательны, но они могут быть в строке, обозначающей число</li>
<li><code>[0-9]</code> — любая цифра</li>
<li><code>[0-9]+</code> — цифра должна быть хотя бы одна</li>
</ul>
<p>Можно попробовать сделать регулярное выражение для дробного числа:</p>
<pre class="hljs"><code><div>^<span class="hljs-literal">[+-]</span>?<span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>+(\.<span class="hljs-literal">[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]</span>+)?$
</div></code></pre>
<p>Подробнее:</p>
<ul>
<li><code>[+-]?[0-9]+</code> — проверка на подстроку-число из предыдущего примера. Обратите внимание, что якоря &quot;переехали&quot;, т.к. начало и конец строки теперь в других местах.</li>
<li><code>\.</code> — точка как символ точки</li>
<li><code>\.[0-9]+</code> — дробная часть числа</li>
<li><code>(\.[0-9]+)?</code> — дробная часть числа необязательная</li>
</ul>
<p>Автор настоятельно рекомендует самостоятельно попробовать написать регулярные выражения для даты, чтобы закрепить материал.</p>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-vi-%D0%BC%D0%B0%D0%B3%D0%B8%D1%8F-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B8">Глава VI. Магия математики</h2>
<p>Наконец можно приступить к математическим операциям!</p>
<p>Числа желательно (обязательно) проверять регулярным выражением, т.к. всё в bash-е является строкой и нет отдельного типа данных для чисел.</p>
<pre class="hljs"><code><div><span class="hljs-built_in">read</span> a b
re_num=^[-+]?[0-9]+$
<span class="hljs-keyword">if</span> ! ([[ <span class="hljs-variable">$a</span> =~ re_num ]] &amp;&amp; [[ <span class="hljs-variable">$b</span> =~ re_num ]]); <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> ERROR &gt;&amp;2
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">else</span>
    ...
<span class="hljs-keyword">fi</span>
</div></code></pre>
<h3 id="61-%D1%88%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D0%B0%D1%80%D0%B8%D1%84%D0%BC%D0%B5%D1%82%D0%B8%D0%BA%D0%B0">6.1. Школьная арифметика</h3>
<blockquote>
<p>Bash не поддерживает арифметические операции с дробными числами.</p>
</blockquote>
<p>Совсем. И незачем. Bash-у не нужно что-то считать, с этой задачей справится любой классический полноценный язык программирования.
Поэтому берём только целые числа.</p>
<p>Для произведения <strong>любых математических</strong> операций, используются двойные круглые скобки: <code>(( ))</code>:</p>
<pre class="hljs"><code><div>a=2
(( b = a * a ))
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$b</span>   <span class="hljs-comment"># 4</span>

(( b++ ))
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$b</span>   <span class="hljs-comment"># 5</span>

(( b *= -1 ))
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$b</span>   <span class="hljs-comment"># -5</span>
</div></code></pre>
<p>Как Вы можете заметить, <strong>внутри</strong> скобок $ не обязателен. Однако его нужно использовать для особых переменных, например, для позиционных:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># test.sh 5 2</span>
(( res = <span class="hljs-variable">$1</span> + <span class="hljs-variable">$2</span> ))
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$res</span>   <span class="hljs-comment"># 7</span>
</div></code></pre>
<p>Какие операции поддерживаются?</p>
<ul>
<li><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> (целочисленное), <code>%</code>, <code>**</code></li>
<li><code>+=</code>, <code>-=</code>, <code>*=</code> и т.п.</li>
<li><code>++</code> и <code>--</code></li>
</ul>
<h3 id="62-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82-%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B0-%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F">6.2. Возврат результата вычисления</h3>
<p>Запустив скрипт</p>
<pre class="hljs"><code><div>b=2
<span class="hljs-built_in">echo</span> (( b * 2 ))   <span class="hljs-comment"># bash: syntax error</span>
</div></code></pre>
<p>Вы получите ошибку, т.к. <code>(( ))</code> ничего не возвращают.</p>
<p>Чтобы вычислить результат и сразу вернуть его, используется, как можно догадаться, знак доллара перед (так же, как и чтение переменной):</p>
<pre class="hljs"><code><div>b=2
<span class="hljs-built_in">echo</span> $(( b * 2 ))   <span class="hljs-comment"># 4</span>
</div></code></pre>
<p>Злоупотреблять этим символом тоже не стоит:</p>
<pre class="hljs"><code><div>i=0
$(( i += 1 ))      <span class="hljs-comment"># bash: 1: command not found...</span>
</div></code></pre>
<p>Как в случае с чтением переменных, интерпретатор подставляет на место доллара результат вычисления:</p>
<pre class="hljs"><code><div>  $(( i += 1 ))
<span class="hljs-comment">#      |</span>
<span class="hljs-comment">#    i -&gt; 0</span>
<span class="hljs-comment">#      |</span>
  $(( 0 + 1 ))
<span class="hljs-comment">#      |</span>
<span class="hljs-comment">#  0 + 1 = 1</span>
<span class="hljs-comment">#      |</span>
   $(( 1 ))
<span class="hljs-comment">#      |</span>
<span class="hljs-comment"># $(( 1 )) -&gt; 1</span>
<span class="hljs-comment">#      |</span>
<span class="hljs-comment">#      V</span>

1   <span class="hljs-comment"># bash: 1: command not found...</span>
</div></code></pre>
<h3 id="64-%D0%BC%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F">6.4. Математические условия</h3>
<p>При помощи <code>(( ))</code> можно записывать условия, использующие математические операции:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">if</span> (( a % 2 == 0)); <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span> — odd
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$a</span> — even
<span class="hljs-keyword">fi</span>
</div></code></pre>
<div style="page-break-after: always;"></div>
<h2 id="%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0-vii-%D0%B2%D0%BE%D1%82-%D0%BE%D0%BD%D0%B8-%D1%81%D0%BB%D0%B5%D0%B2%D0%B0-%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BE-while-until-for">Глава VII. Вот они, слева направо: <code>while</code>, <code>until</code>, <code>for</code></h2>
<h3 id="71-while-%D0%B8-until">7.1. <code>while</code> и <code>until</code></h3>
<p><code>while</code> — самый обычный, но не всегда самый удобный способ задать цикл:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">while</span> [ <span class="hljs-variable">$condition</span> ]; <span class="hljs-keyword">do</span>
    ...
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>В качестве <code>condition</code> может выступать любое выражение — как в ветвлениях:</p>
<pre class="hljs"><code><div>i=0
<span class="hljs-keyword">while</span> [[ <span class="hljs-variable">$i</span> &lt; 5 ]]; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$i</span> "</span>
    (( i++ ))
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># 0 1 2 3 4  </span>
</div></code></pre>
<p>Редко, но используется другая форма записи — через <code>until</code>:</p>
<pre class="hljs"><code><div>i=0
until [[ <span class="hljs-variable">$i</span> &gt;= 5 ]]; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$i</span> "</span>
    (( i++ ))
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># 0 1 2 3 4</span>
</div></code></pre>
<p>В чём отличие? Цикл <code>while</code> работает, пока значение <em>истинно</em>, в то время как <code>until</code> работает, пока значение <em>ложно</em>.</p>
<p>Конечно, можно не морочить голову и везде писать <code>while</code>... Однако если есть такая возможность в языке, то почему бы не использовать?
План такой:</p>
<ul>
<li>Записывате условие для <code>while</code></li>
<li>Если в условии есть отрицание всего выражение, например:</li>
</ul>
<pre class="hljs"><code><div>! ([[ <span class="hljs-variable">$a</span> ]] &amp;&amp; [[ <span class="hljs-variable">$b</span> ]])
</div></code></pre>
<p>в таком случае проверяете, возможно ли избавиться от символа, уменьшив количество операторов. Если же нет, то записываете цикл через <code>until</code>. Напиример:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">while</span> !([[ <span class="hljs-variable">$a</span> ]] &amp;&amp; [[ <span class="hljs-variable">$b</span> ]]); <span class="hljs-keyword">do</span>
    ...
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>можно трансформировать в</p>
<pre class="hljs"><code><div>until [[ <span class="hljs-variable">$a</span> ]] &amp;&amp; [[ <span class="hljs-variable">$b</span> ]]; <span class="hljs-keyword">do</span>
    ...
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>И такая запись будет короче и приятнее глазу.</p>
<h3 id="72-%D0%B2%D1%81%D0%B5%D0%BC%D0%BE%D0%B3%D1%83%D1%89%D0%B8%D0%B9-for">7.2. Всемогущий <code>for</code></h3>
<h4 id="721-%D0%B4%D0%BB%D1%8F-%D0%BC%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D0%BE%D0%B2">7.2.1. Для массивов</h4>
<p>Самый типичный пример использования <code>for</code> — перебор значений в массиве:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> it <span class="hljs-keyword">in</span> array; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$it</span>
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>Например:</p>
<pre class="hljs"><code><div>OLD_IFS=<span class="hljs-variable">$IFS</span>
IFS=<span class="hljs-string">" "</span>

line=<span class="hljs-string">"i love bash scripts"</span>

<span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> <span class="hljs-variable">$line</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> word
<span class="hljs-keyword">done</span>

IFS=<span class="hljs-variable">$OLD_IFS</span>

<span class="hljs-comment"># i</span>
<span class="hljs-comment"># love</span>
<span class="hljs-comment"># bash</span>
<span class="hljs-comment"># scripts</span>
</div></code></pre>
<p>К массивам вернёмся в 7 главе.</p>
<p>Но у <code>for</code> есть ещё несколько удобных конструкций, которые и делают его основным способом задания цикла.</p>
<h4 id="722-%D0%B4%D0%BB%D1%8F-%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%8B%D1%85-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B5%D0%B9">7.2.2. Для простых последовательностей</h4>
<p>Очень просто записывается <code>for</code> для последовательностей:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(seq 1 3); <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$i</span> "</span>
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># 1 2 3</span>
</div></code></pre>
<blockquote>
<p>Обратите внимание: границы включены в последовательность!</p>
</blockquote>
<h4 id="723-c%D0%B8-%D1%81%D1%82%D0%B0%D0%B9%D0%BB">7.2.3. Cи-стайл</h4>
<p>Если же Вам нужно записать сложный цикл, как в С-подобных языках программирования, то Вам на помощь придут математические скобки:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> (( i=4; i&gt;=0; i-- )); <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$i</span> "</span>
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># 4 3 2 1 0</span>
</div></code></pre>
<p>Но не стоит злоупотреблять такой возможностью. Если будет что-то такое:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> (( i=0; i&lt;5; i++ )); <span class="hljs-keyword">do</span>
    ...
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>можно заменить на более простую запись через <code>seq</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> $(seq 0 4); <span class="hljs-keyword">do</span>
    ...
<span class="hljs-keyword">done</span>
</div></code></pre>
<p>Ещё раз обратим внимание: <strong>в <code>seq</code> обе границы последовательности включительно!</strong></p>
<h3 id="73-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2">7.3. Обработка позиционных параметров</h3>
<p>Ранее мы разобрали, что такое позиционные параметры и команду <code>shift</code>. Пора применить их вместе:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># test.sh foo bar "hello world"</span>

<span class="hljs-keyword">while</span> [ <span class="hljs-variable">$1</span> ]; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span>
    <span class="hljs-built_in">shift</span>
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># foo</span>
<span class="hljs-comment"># bar</span>
<span class="hljs-comment"># hello world</span>
</div></code></pre>
<p>Скрипт выводит построчно аргументы при запуске скрипта (за исключением нулевого). Вот так это работает:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># /pathtoyourscript/test.sh foo bar hello world</span>
<span class="hljs-comment">#               ^            ^   ^       ^</span>
<span class="hljs-comment">#               $0           $1  $2      $3</span>

<span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span>     <span class="hljs-comment"># foo</span>

<span class="hljs-built_in">shift</span>       <span class="hljs-comment"># -----&gt;</span>
<span class="hljs-comment"># /pathtoyourscript/test.sh foo bar hello world</span>
<span class="hljs-comment">#               ^                ^       ^</span>
<span class="hljs-comment">#               $0               $1      $2</span>

<span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span>     <span class="hljs-comment"># bar</span>

<span class="hljs-built_in">shift</span>       <span class="hljs-comment"># -----&gt;</span>
<span class="hljs-comment"># /pathtoyourscript/test.sh foo bar hello world</span>
<span class="hljs-comment">#               ^                        ^</span>
<span class="hljs-comment">#               $0                       $1</span>

<span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span>     <span class="hljs-comment"># hello world</span>

<span class="hljs-built_in">shift</span>       <span class="hljs-comment"># -----&gt;</span>
<span class="hljs-comment"># /pathtoyourscript/test.sh foo bar hello world</span>
<span class="hljs-comment">#               ^</span>
<span class="hljs-comment">#               $0</span>
</div></code></pre>
<div style="page-break-after: always;"></div>
<h2 id="%D1%82%D0%B0-%D1%81%D0%B0%D0%BC%D0%B0%D1%8F-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BD%D1%8F%D1%8F-%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0">Та самая последняя страница</h2>
<p>Автор — <em>Жихарев Кирилл, студент МГТУ ИУ7</em></p>
<ul>
<li><a href="https://t.me/zhikhkirill">t.me/zhikhkirill</a></li>
<li><a href="https://vk.com/zhikh.localhost">vk.com//zhikh.localhost</a></li>
<li><a href="https://github.com/zhikh23">github.com/zhikh23</a></li>
</ul>
<p>Главный редактор — <em>Дарья Соколова, студентка факультета журналистики МГУ</em></p>
<ul>
<li><a href="https://vk.com/curious_meerkat">vk.com/curious_meerkat</a></li>
</ul>

</body>
</html>
